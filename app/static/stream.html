<!DOCTYPE html>
<html>
<head>
  <title>카메라 2대 스트리밍</title>
</head>
<body>
  <h1>Camera 0</h1>
  <img id="camera0" width="640" height="480">
  <h1>Camera 1</h1>
  <img id="camera1" width="640" height="480">

  <script>
    const createSocket = (index) => {
      const ws = new WebSocket(`ws://${location.host}/ws/stream/${index}`);
      ws.onmessage = (event) => {
        document.getElementById(`camera${index}`).src = 'data:image/jpeg;base64,' + event.data;
      };
    };

    createSocket(0);
    createSocket(1);
  </script>
</body>
</html>
